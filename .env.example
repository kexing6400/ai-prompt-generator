# =================================================================
# 🔐 环境变量配置模板 - 律师AI工作站
# =================================================================
# 
# 这是环境变量配置的示例文件。请复制此文件为 .env 并填入真实的值。
# 注意：.env 文件包含敏感信息，绝不能提交到版本控制！
#
# 复制命令: cp .env.example .env
# 
# =================================================================

# -----------------------------------------------------------------
# 📦 应用基础配置
# -----------------------------------------------------------------

# 运行环境：development | production | test
NODE_ENV=development

# Next.js 应用URL（生产环境必填）
NEXTAUTH_URL=http://localhost:3000

# NextAuth 密钥（生产环境必填，用于JWT签名）
# 生成命令: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-key-32-chars-minimum

# -----------------------------------------------------------------
# 🔐 安全与加密配置
# -----------------------------------------------------------------

# 🚨 【必需】数据加密密钥 - 至少32字符，用于加密敏感数据
# 生成强密钥命令: openssl rand -base64 32
ENCRYPTION_SECRET=your-super-secure-encryption-key-at-least-32-characters-long

# CSRF保护密钥
CSRF_SECRET=your-csrf-secret-key

# JWT签名密钥
JWT_SECRET=your-jwt-signing-secret

# -----------------------------------------------------------------
# 🤖 AI模型API配置
# -----------------------------------------------------------------

# Anthropic Claude API密钥 (推荐)
# 获取地址: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api01-your-anthropic-api-key-here

# 或者使用 OpenRouter API密钥
# 获取地址: https://openrouter.ai/
OPENROUTER_API_KEY=sk-or-your-openrouter-api-key-here

# Claude API 基础URL（使用gaccode代理时）
CLAUDE_BASE_URL=https://gaccode.com/claudecode

# API请求超时时间（毫秒）
API_TIMEOUT=30000

# -----------------------------------------------------------------
# 🗄️  数据库配置
# -----------------------------------------------------------------

# PostgreSQL数据库连接字符串
# 本地开发: postgresql://username:password@localhost:5432/lawyer_ai
# Supabase: postgresql://[user]:[pass]@[host]:[port]/[db]?[params]
DATABASE_URL=postgresql://username:password@localhost:5432/lawyer_ai_dev

# 数据库直连URL（Supabase）
DIRECT_URL=postgresql://username:password@host:6543/db?sslmode=require

# 数据库连接池配置
DB_POOL_MIN=2
DB_POOL_MAX=10

# -----------------------------------------------------------------
# 💰 支付与订阅配置
# -----------------------------------------------------------------

# Stripe API密钥
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# Creem.io API配置
CREEM_API_KEY=your-creem-api-key
CREEM_MERCHANT_ID=your-creem-merchant-id

# -----------------------------------------------------------------
# 📧 邮件服务配置
# -----------------------------------------------------------------

# SMTP邮件配置
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# SendGrid API密钥（可选）
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# -----------------------------------------------------------------
# 🔄 外部服务配置
# -----------------------------------------------------------------

# Redis连接字符串（缓存和会话存储）
REDIS_URL=redis://localhost:6379

# 上传文件存储（Vercel Blob或AWS S3）
BLOB_READ_WRITE_TOKEN=vercel-blob-token

# 监控和分析
SENTRY_DSN=https://your-sentry-dsn-here
GOOGLE_ANALYTICS_ID=GA-XXXXXXXX-X

# -----------------------------------------------------------------
# 🔧 开发与调试配置
# -----------------------------------------------------------------

# 开发模式配置
DEBUG=lawyer-ai:*
LOG_LEVEL=info

# 构建和分析
ANALYZE_BUNDLE=false

# Vercel分析
VERCEL_ANALYTICS_ID=your-vercel-analytics-id

# -----------------------------------------------------------------
# 🚀 部署与CDN配置
# -----------------------------------------------------------------

# 静态资源CDN
NEXT_PUBLIC_CDN_URL=https://your-cdn.com

# 图片优化服务
NEXT_PUBLIC_IMAGE_DOMAIN=your-domain.com

# 网站基础URL
NEXT_PUBLIC_SITE_URL=https://your-domain.com

# -----------------------------------------------------------------
# 📊 可选功能配置
# -----------------------------------------------------------------

# 启用功能标志
FEATURE_PREMIUM_TEMPLATES=true
FEATURE_DOCUMENT_EXPORT=true
FEATURE_COLLABORATIVE_EDITING=false

# 速率限制配置
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# 文件上传限制（字节）
MAX_FILE_SIZE=10485760

# -----------------------------------------------------------------
# 🧪 测试环境配置
# -----------------------------------------------------------------

# 测试数据库
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/lawyer_ai_test

# 测试API密钥（使用免费套餐）
TEST_ANTHROPIC_API_KEY=sk-ant-test-your-test-key

# =================================================================
# 📝 配置说明和注意事项
# =================================================================
#
# 1. 🔐 安全性：
#    - 绝不要将真实的API密钥或密码提交到版本控制
#    - 生产环境必须使用强随机密钥
#    - 定期轮换API密钥和密码
#
# 2. 📦 环境区分：
#    - 开发环境：使用测试API密钥和本地数据库
#    - 生产环境：使用真实API密钥和云数据库
#
# 3. 🔧 必需变量：
#    - ENCRYPTION_SECRET: 数据加密（至少32字符）
#    - NODE_ENV: 运行环境
#    - 至少一个AI API密钥（ANTHROPIC_API_KEY或OPENROUTER_API_KEY）
#
# 4. 🧪 验证命令：
#    - npm run env:validate  # 验证环境变量配置
#    - npm run env:generate  # 生成安全密钥
#
# =================================================================