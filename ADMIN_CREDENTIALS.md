# 🔐 管理后台安全认证指南

## 访问地址
- 本地开发: http://localhost:3000/admin
- 生产环境: https://your-domain.com/admin

## ⚠️ 安全重要提醒

**本系统不使用默认账号密码！** 所有管理员账户均需要由系统管理员手动配置。

## 当前认证系统

### 认证方式
- 🔐 **企业级JWT认证** + Session双重认证
- 🔐 **bcrypt密码加密** (工作因子: 12)
- 🔐 **CSRF防护** + 速率限制
- 🔐 **审计日志** + 设备指纹识别

### 管理员账户配置

管理员账户信息存储在 `/app/api/admin/auth/login/route.ts` 中的 `ADMIN_USERS` 配置对象中，采用以下安全措施：

1. **用户名**: 由系统管理员设置（当前: kexing）
2. **密码**: 使用bcrypt哈希加密存储
3. **权限**: 细粒度权限控制系统
4. **状态**: 账户激活状态管理

### 密码安全要求

- ✅ 最少8个字符
- ✅ 包含大小写字母
- ✅ 包含数字
- ✅ 包含特殊字符
- ✅ 定期更换（建议90天）

## 功能模块权限

### 超级管理员权限 (super_admin)
- `system:config:read` - 系统配置查看
- `system:config:write` - 系统配置修改
- `template:read` - 提示词模板查看
- `template:write` - 提示词模板编辑
- `template:delete` - 提示词模板删除
- `security:audit:read` - 安全审计日志查看
- `security:config:write` - 安全配置修改
- `super:admin` - 超级管理员权限

### 功能模块
- **🔧 API配置管理**: 配置OpenRouter API密钥和AI模型
- **📝 提示词模板**: 管理各行业的提示词模板
- **🧪 实时测试**: 测试API连接和提示词生成
- **🔐 安全配置**: 管理认证和访问控制
- **📊 系统监控**: 查看API调用统计和系统状态
- **📋 审计日志**: 查看系统操作记录

## 🔐 安全最佳实践

### 管理员安全清单
- [ ] 定期检查审计日志
- [ ] 监控异常登录活动
- [ ] 定期更新密码
- [ ] 启用会话超时
- [ ] 使用HTTPS协议
- [ ] 定期备份系统配置
- [ ] 监控API密钥使用情况

### 部署安全建议
1. **生产环境**:
   - 必须使用HTTPS
   - 配置适当的CORS策略
   - 启用安全头部
   - 定期更新依赖包

2. **访问控制**:
   - 限制管理后台访问IP
   - 启用双因素认证（如需要）
   - 设置会话超时时间
   - 配置强密码策略

3. **监控和审计**:
   - 启用访问日志记录
   - 监控失败登录尝试
   - 定期安全审计
   - 备份重要配置数据

## 🚨 安全事件处置

如发现以下情况，请立即采取安全措施：
- 多次失败登录尝试
- 异常IP访问
- 系统配置未授权修改
- API密钥泄露

联系系统管理员进行安全评估和处置。

---
**最后更新**: 2024-12-10
**版本**: v2.0 企业安全版